<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FiBank Login</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/supabase.min.js"></script>
<style>
  body {
    background: linear-gradient(-45deg, #0ff, #06f, #0ff, #06f);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
    font-family: sans-serif;
  }

  @keyframes gradientBG {
    0% {background-position:0% 50%}
    50% {background-position:100% 50%}
    100% {background-position:0% 50%}
  }

  .neonText {
    text-shadow: 0 0 5px #0ff, 0 0 10px #0ff, 0 0 20px #06f;
  }

  @keyframes logoBounce {
    0%,100% { transform: scale(1); }
    50% { transform: scale(1.2) rotate(10deg); }
  }
  .logoAnim {
    animation: logoBounce 2s infinite;
  }
</style>
</head>
<body class="flex items-center justify-center min-h-screen">

<div class="bg-black/70 p-8 rounded-xl shadow-xl w-full max-w-md text-white">

  <!-- Logo -->
  <div class="flex justify-center items-center mb-6">
    <div class="w-16 h-16 bg-cyan-400 rounded-full flex items-center justify-center logoAnim">
      <span class="text-black font-bold text-3xl">F</span>
    </div>
    <svg class="w-12 h-12 text-cyan-400 logoAnim" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" fill="currentColor">
      <path d="M32 2 L42 22 H22 L32 2 Z M12 42 L52 42 L42 22 H22 L12 42 Z M32 62 L42 42 H22 L32 62 Z"/>
    </svg>
  </div>

  <h1 class="text-3xl font-bold text-center mb-4 neonText">Sign In</h1>
  <p class="text-cyan-200 text-center mb-6">Access your futuristic banking dashboard.</p>

  <form id="loginForm" class="space-y-4">

    <div>
      <label class="block text-sm font-medium">Email</label>
      <input type="email" id="email" class="w-full p-2 rounded-md text-black" required>
    </div>

    <div>
      <label class="block text-sm font-medium">Password</label>
      <input type="password" id="password" class="w-full p-2 rounded-md text-black" required>
    </div>

    <button type="submit" class="w-full py-2 bg-cyan-400 text-black rounded-md font-bold hover:bg-cyan-500 transition">Sign In</button>
  </form>

  <p class="text-center text-sm text-cyan-200 mt-4">
    Don't have an account? <a href="signup.html" class="text-white hover:underline">Sign Up</a>
  </p>

  <div id="message" class="mt-4 text-center"></div>

</div>

<script>
  const supabaseUrl = "https://hfdnfdkrzjfixfascaxq.supabase.co";
  const supabaseAnonKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmZG5mZGtyempmaXhmYXNjYXhxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMxNjkyMDgsImV4cCI6MjA3ODc0NTIwOH0.WzVL4LwjwfmDmD2dUUZpd572qx5Dh4XJs8l_ovFM4Cc";
  const supabase = supabase.createClient(supabaseUrl, supabaseAnonKey);

  const form = document.getElementById('loginForm');
  const messageDiv = document.getElementById('message');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    messageDiv.textContent = "";

    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    try {
      const { data, error } = await supabase.auth.signInWithPassword({ email, password });

      if(error) {
        messageDiv.textContent = error.message;
        messageDiv.classList.add('text-red-600');
        return;
      }

      messageDiv.textContent = "Login successful! Redirecting to dashboard...";
      messageDiv.classList.remove('text-red-600');
      messageDiv.classList.add('text-green-500');

      // Redirect to dashboard/homepage
      setTimeout(() => {
        window.location.href = "index-dashboard.html"; // replace with your homepage/dashboard
      }, 1500);

    } catch(err) {
      console.error(err);
      messageDiv.textContent = "Unexpected error occurred.";
      messageDiv.classList.add('text-red-600');
    }
  });
</script>

</body>
</html>